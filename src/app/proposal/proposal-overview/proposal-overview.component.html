<div class="container-fluid p-4 my-3 mt-5 border">
    <div class="row align-items-start">
        <!-- main  -->
        <div class="col">
            <form [formGroup]="propOverView" novalidate>
                <div class="row">
                    <div class="col-7">
                        <div class="row">
                            <div class="col-5">
                                <span class="proposal">Proposal Overview</span>
                            </div>
                            <div class="col-5">
                                <div class="form-group">
                                    <input formControlName='proposalId' name="proposalId" class="form-control form-control-sm" type="text" />
                                </div>

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-5">
                                <span>Enrollment Id/Agreement Id <span class="error_color">*</span></span>
                            </div>
                            <div class="col-5">
                                <div class="form-group">
                                    <select name="identifier" (blur)="proposalUpdate($event,'identifier')" formControlName="identifier" class="form-control">                                        
                                        <option value="">Please Select Id</option>
                                        <option *ngFor="let o of chooseList"  value="{{o.ids}}" >{{o.name}}</option>
                                    </select>
                                    <span class="error_color" *ngIf="IdentifierValid">Please Select Id</span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-5">
                                <span>{{propOverView.get('identifier').value ==1 ? 'Agreement Id' : propOverView.get('identifier').value == 2 ? 'Enrollment Id':""}}</span>
                            </div>
                            <div class="col-5">
                                <div class="form-group" *ngIf="propOverView.get('identifier').value ==2">
                                    <input name="enrollmentId" (blur)="proposalUpdate($event,'enrollmentId')" formControlName="enrollmentId" class="form-control form-control-sm"
                                        type="text" />
                                    <div *ngIf="propOverView.get('enrollmentId').invalid && (propOverView.get('enrollmentId').dirty || propOverView.get('enrollmentId').touched)">
                                        <div class="error_color">
                                            Enrollment Id is requried
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="propOverView.get('identifier').value ==1">
                                    <input name="agreementId" (blur)="proposalUpdate($event,'agreementId')" formControlName="agreementId" class="form-control form-control-sm"
                                        type="text" />
                                    <!-- {{propOverView.get('agreementId').dirty || propOverView.get('agreementId').touched}} -->
                                    <div *ngIf="propOverView.get('agreementId').invalid && (propOverView.get('agreementId').dirty || propOverView.get('agreementId').touched)">
                                        <div class="error_color">
                                            Agreement Id is requried
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="row">
                            <div class="col-5">
                                <span>Pricing Country</span>
                            </div>
                            <div class="col-5">
                                <div class="form-group">
                                    <ng-select placeholder="Pricing Country" (blur)="proposalUpdate($event,'pricingCountry')" formControlName="pricingCountry"
                                        name="pricingCountry" class="ng-select" [items]="config" bindLabel="name" bindValue="id">
                                    </ng-select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-5">
                                <span>Customer Name<span class="error_color">*</span></span>
                            </div>
                            <div class="col-5">
                                <div class="form-group">
                                    <input name="customerName" (blur)="proposalUpdate($event,'customerName')" formControlName="customerName" class="form-control form-control-sm"
                                        type="text" />
                                    <div *ngIf="propOverView.get('customerName').invalid && (propOverView.get('customerName').dirty || propOverView.get('customerName').touched)">
                                        <div class="error_color">
                                            Customer Name is requried
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-5">
                                <span>Deal NickName</span>
                            </div>
                            <div class="col-5">
                                <div class="form-group">
                                    <input name="dealNickname" (blur)="proposalUpdate($event,'dealNickname')" formControlName="dealNickname" class="form-control form-control-sm"
                                        type="text" />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-5">
                                <span>Notes</span>
                            </div>
                            <div class="col-5">
                                <div class="form-group">
                                    <input name="notes" (blur)="proposalUpdate($event,'notes')" formControlName="notes" class="form-control form-control-sm"
                                        type="text" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-5">
                        <div class="row">
                            <div class="col p-0">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <input type="text" class="form-control" placeholder="Search for Amendment's" aria-label="Recipient's username" aria-describedby="basic-addon2"
                                            [(ngModel)]="searchAmendment" name="searchAmendment">
                                        <span (click)="open()" class="input-group-text" id="basic-addon2"> <i class="fas fa-search"></i></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col p-0">

                                <button class="btn btn-primary btn-sm" type="button" data-toggle="dropdown" (click)="checkById()">
                                    <span class="docment" > Generate Offline Document</span>
                               </button>
                                <ul class="dropdown-menu">
                                    <li><button type="button" class="btn btn-primary btn-sm w-100"> Generate Offline Pricing Document</button>
                                    </li>
                                    <div class="dropdown-divider"></div>
                                    <li><button type="button" class="btn btn-primary btn-sm w-100"> Generate Offline Non-Pricing Document</button>
                                    </li>
                                </ul>
                                &nbsp;
                                <button type="button" class="btn btn-primary btn-sm w-42">
                                <span class="docment">MOPET Details</span> </button>
                            </div>
                        </div>

                    </div>
                </div>
            </form>

            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <span class="proposal">Amendments</span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <table datatable class="row-border hover">
                            <thead class="table-header">
                                <tr>
                                    <th>Code</th>
                                    <th>Language</th>
                                    <th>DocumentId</th>
                                    <th>Version</th>
                                    <th>FileName</th>
                                    <th>Remove</th>
                                    <th>ArrangeOrder</th>
                                    <th>Edit</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let obj of Amendments">
                                    <td>{{obj.Code}}</td>
                                    <td>{{obj.Language}}</td>
                                    <td>{{obj.DocumentId}}</td>
                                    <td>{{obj.FileVersion}}</td>
                                    <td>{{obj.FileName}}</td>
                                    <td>{{obj.DocumentId}}</td>
                                    <td>{{obj.DocumentId}}</td>
                                    <td>{{obj.DocumentId}}</td>
                                </tr>



                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="row align-items-end">

                <div class="col">
                    <div class="row">
                        <div class="col">
                            <div class="btn btn-primary btn-sm w-100">
                                <span class="">Add CTM File</span>
                                <input class="sample" type="file" (change)="addCTM()" name="file" />
                            </div>
                        </div>
                        <div class="col">
                            <button type="button" class="btn btn-primary btn-sm w-100">Active Proposal</button>
                        </div>
                        <div class="col">
                            <button type="button" class="btn btn-primary btn-sm w-100">Delegate Proposal</button>
                        </div>
                        <div class="col">
                            <button type="button" class="btn btn-primary btn-sm w-100"> Share Proposal</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>